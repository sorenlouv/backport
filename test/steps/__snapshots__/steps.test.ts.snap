// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`run through steps exec should be called with correct args 1`] = `
Array [
  Array [
    "git clone https://myAccessToken@github.com/elastic/kibana.git --progress",
    Object {
      "cwd": "/myHomeDir/.backport/repositories/elastic",
      "maxBuffer": 104857600,
    },
    [Function],
  ],
  Array [
    "git remote rm origin",
    Object {
      "cwd": "/myHomeDir/.backport/repositories/elastic/kibana",
      "maxBuffer": 104857600,
    },
    [Function],
  ],
  Array [
    "git remote rm sqren",
    Object {
      "cwd": "/myHomeDir/.backport/repositories/elastic/kibana",
      "maxBuffer": 104857600,
    },
    [Function],
  ],
  Array [
    "git remote add sqren https://myAccessToken@github.com/sqren/kibana.git",
    Object {
      "cwd": "/myHomeDir/.backport/repositories/elastic/kibana",
      "maxBuffer": 104857600,
    },
    [Function],
  ],
  Array [
    "git remote rm elastic",
    Object {
      "cwd": "/myHomeDir/.backport/repositories/elastic/kibana",
      "maxBuffer": 104857600,
    },
    [Function],
  ],
  Array [
    "git remote add elastic https://myAccessToken@github.com/elastic/kibana.git",
    Object {
      "cwd": "/myHomeDir/.backport/repositories/elastic/kibana",
      "maxBuffer": 104857600,
    },
    [Function],
  ],
  Array [
    "git reset --hard && git clean -d --force && git fetch elastic 6.x && git checkout -B backport/6.x/pr-1337 elastic/6.x --no-track",
    Object {
      "cwd": "/myHomeDir/.backport/repositories/elastic/kibana",
      "maxBuffer": 104857600,
    },
    [Function],
  ],
  Array [
    "git fetch elastic master:master --force && git cherry-pick myCommitSha",
    Object {
      "cwd": "/myHomeDir/.backport/repositories/elastic/kibana",
      "maxBuffer": 104857600,
    },
    [Function],
  ],
  Array [
    "git push sqren backport/6.x/pr-1337:backport/6.x/pr-1337 --force",
    Object {
      "cwd": "/myHomeDir/.backport/repositories/elastic/kibana",
      "maxBuffer": 104857600,
    },
    [Function],
  ],
  Array [
    "git checkout master && git branch -D backport/6.x/pr-1337",
    Object {
      "cwd": "/myHomeDir/.backport/repositories/elastic/kibana",
      "maxBuffer": 104857600,
    },
    [Function],
  ],
]
`;

exports[`run through steps prompt calls should match snapshot 1`] = `
Array [
  Array [
    Array [
      Object {
        "choices": Array [
          Object {
            "name": "[90m1.[39m [APM] Some long git commit message (#1337) [32m7.x[39m, [32m7.2[39m",
            "short": "#1337",
            "value": Object {
              "existingBackports": Array [
                Object {
                  "branch": "7.x",
                  "state": "MERGED",
                },
                Object {
                  "branch": "7.2",
                  "state": "MERGED",
                },
              ],
              "message": "[APM] Some long git commit message (#1337)",
              "pullNumber": 1337,
              "sha": "myCommitSha",
            },
          },
          Object {
            "name": "[90m2.[39m [APM] Refactor ESClient to allow other operations than \`search\` (#37334) [32m7.x[39m",
            "short": "#37334",
            "value": Object {
              "existingBackports": Array [
                Object {
                  "branch": "7.x",
                  "state": "MERGED",
                },
              ],
              "message": "[APM] Refactor ESClient to allow other operations than \`search\` (#37334)",
              "pullNumber": 37334,
              "sha": "myGitHash2",
            },
          },
          Object {
            "name": "[90m3.[39m [APM] Fix issue with missing agentName on metrics page (#37210) [32m7.x[39m, [32m7.2[39m",
            "short": "#37210",
            "value": Object {
              "existingBackports": Array [
                Object {
                  "branch": "7.x",
                  "state": "MERGED",
                },
                Object {
                  "branch": "7.2",
                  "state": "MERGED",
                },
              ],
              "message": "[APM] Fix issue with missing agentName on metrics page (#37210)",
              "pullNumber": 37210,
              "sha": "myGitHash3",
            },
          },
        ],
        "message": "Select commit to backport",
        "name": "promptResult",
        "pageSize": 3,
        "type": "list",
      },
    ],
  ],
  Array [
    Array [
      Object {
        "choices": Array [
          Object {
            "name": "6.x",
          },
          Object {
            "name": "6.0",
          },
          Object {
            "name": "5.6",
          },
          Object {
            "name": "5.5",
          },
          Object {
            "name": "5.4",
          },
        ],
        "message": "Select branch to backport to",
        "name": "promptResult",
        "type": "list",
      },
    ],
  ],
]
`;

exports[`run through steps should make correct requests 1`] = `
Object {
  "delete": Array [],
  "get": Array [],
  "head": Array [
    Object {
      "data": undefined,
      "headers": Object {
        "Accept": "application/json, text/plain, */*",
      },
      "maxContentLength": -1,
      "method": "head",
      "timeout": 0,
      "transformRequest": Object {
        "0": [Function],
      },
      "transformResponse": Object {
        "0": [Function],
      },
      "url": "https://api.github.com/repos/elastic/kibana?access_token=myAccessToken",
      "validateStatus": [Function],
      "xsrfCookieName": "XSRF-TOKEN",
      "xsrfHeaderName": "X-XSRF-TOKEN",
    },
  ],
  "list": Array [],
  "options": Array [],
  "patch": Array [],
  "post": Array [
    Object {
      "data": "{\\"title\\":\\"myPrTitle 6.x [APM] Some long git commit message (#1337)\\",\\"body\\":\\"Backports the following commits to 6.x:\\\\n - [APM] Some long git commit message (#1337)\\\\n\\\\nmyPrDescription\\",\\"head\\":\\"sqren:backport/6.x/pr-1337\\",\\"base\\":\\"6.x\\"}",
      "headers": Object {
        "Accept": "application/json, text/plain, */*",
        "Content-Type": "application/json;charset=utf-8",
      },
      "maxContentLength": -1,
      "method": "post",
      "timeout": 0,
      "transformRequest": Object {
        "0": [Function],
      },
      "transformResponse": Object {
        "0": [Function],
      },
      "url": "https://api.github.com/repos/elastic/kibana/pulls?access_token=myAccessToken",
      "validateStatus": [Function],
      "xsrfCookieName": "XSRF-TOKEN",
      "xsrfHeaderName": "X-XSRF-TOKEN",
    },
  ],
  "put": Array [],
}
`;
